<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Particle Swarm Optimization | Enjoy Short Life</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Introduction of Particle Swarm OptimizationParticle Swarm Optimization(PSO) is a computational method that finds a solution by iteratively improving a candidate">
<meta property="og:type" content="article">
<meta property="og:title" content="Particle Swarm Optimization">
<meta property="og:url" content="https://sunyasheng.github.io/2017/12/05/Particle-Swarm-Optimization/index.html">
<meta property="og:site_name" content="Enjoy Short Life">
<meta property="og:description" content="Introduction of Particle Swarm OptimizationParticle Swarm Optimization(PSO) is a computational method that finds a solution by iteratively improving a candidate solution, Which is broadly applied to t">
<meta property="og:image" content="https://sunyasheng.github.io/2017/12/05/Particle-Swarm-Optimization/content/images/2017/12/PSO_updating_rule.png">
<meta property="og:updated_time" content="2017-12-05T13:41:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Particle Swarm Optimization">
<meta name="twitter:description" content="Introduction of Particle Swarm OptimizationParticle Swarm Optimization(PSO) is a computational method that finds a solution by iteratively improving a candidate solution, Which is broadly applied to t">
<meta name="twitter:image" content="https://sunyasheng.github.io/2017/12/05/Particle-Swarm-Optimization/content/images/2017/12/PSO_updating_rule.png">
  
    <link rel="alternate" href="/atom.xml" title="Enjoy Short Life" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Enjoy Short Life</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://sunyasheng.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Particle-Swarm-Optimization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/05/Particle-Swarm-Optimization/" class="article-date">
  <time datetime="2017-12-05T10:31:30.000Z" itemprop="datePublished">2017-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Particle Swarm Optimization
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Introduction-of-Particle-Swarm-Optimization"><a href="#Introduction-of-Particle-Swarm-Optimization" class="headerlink" title="Introduction of Particle Swarm Optimization"></a>Introduction of Particle Swarm Optimization</h3><p>Particle Swarm Optimization(PSO) is a computational method that finds a solution by iteratively improving a candidate solution, Which is broadly applied to the problems whose exact solution are impossible to compute, specifically nonlinear optimization problems.</p>
<p>PSO is firstly introduced to simulate social behavior but finally became a optimization paradigm to perform optimzation in complex situations. PSO have the following advantages: 1) it makes few assumptions and is capable of searching solutions in a very large state space. 2) it does not require the problem to be differentiable like ohter optimization paradigm such as gradient descent. However, it does not guarantee that a opitmal solution is found.</p>
<h3 id="Standard-Swarm-Optimization-Procedure"><a href="#Standard-Swarm-Optimization-Procedure" class="headerlink" title="Standard Swarm Optimization Procedure"></a>Standard Swarm Optimization Procedure</h3><p>Simulating the food seeking process of flock, PSO fisrtly initialize many particles representing solutions and update those particles iteratively according to the PSO updating rule shown in Fig.1. p1 indicates the best solution in histroy for each particle while p2 indicates best solution of all particles. Therefore, updating is divided into two stages, the velocity reflecting the inertia towards better solution is computed and then this velocity is added to the previous position of each particle in second stage. a, b, c, d, r1, and r2 are all coefficients affecting this updating process.<br><img src="content/images/2017/12/PSO_updating_rule.png" alt="Fig.1. PSO updating Rule" style="width: 500px;"></p>
<h3 id="Finding-a-solution-satisfying-multiple-constraints"><a href="#Finding-a-solution-satisfying-multiple-constraints" class="headerlink" title="Finding a solution satisfying multiple constraints"></a>Finding a solution satisfying multiple constraints</h3><p>However, for each particle a variety of constraints need to be satisfied in practice, leading to an optimization problem under certain conditions. Below is an example code I wrote to optimize a nonliear function with complex constrains. In this example code, the action I took is ignoring those illegal solutions after updating. At the same time, I record number of times that illegal solutions happend as an reference for parameter tuning.</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span> = <span class="title">PSO</span><span class="params">(num, tree)</span></span></span><br><span class="line"><span class="comment">% profile on</span></span><br><span class="line">    tree = init(tree);</span><br><span class="line">    kappa = <span class="number">1</span>;</span><br><span class="line">    phi1 = <span class="number">2.05</span>;</span><br><span class="line">    phi2 = <span class="number">2.05</span>;</span><br><span class="line">    phi = phi1 + phi2;</span><br><span class="line">    chi = <span class="number">2</span>*kappa/<span class="built_in">abs</span>(<span class="number">2</span>-phi-<span class="built_in">sqrt</span>(phi^<span class="number">2</span><span class="number">-4</span>*phi));</span><br><span class="line">    problem.w = chi;</span><br><span class="line">    problem.wdamp = <span class="number">1</span>;</span><br><span class="line">    problem.c1 = chi*phi1;</span><br><span class="line">    problem.c2 = chi*phi2;</span><br><span class="line">    problem.nparticles = <span class="number">200</span>;</span><br><span class="line">    problem.niterations = <span class="number">2400</span>;</span><br><span class="line">    problem.localminimum = <span class="number">0</span>;</span><br><span class="line">    problem.avoidancerate = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    problem.forest.diameterlimitation.max = <span class="number">2</span>;</span><br><span class="line">    problem.forest.diameterlimitation.min = <span class="number">0.75</span>;</span><br><span class="line">    problem.forest.limitation = num; <span class="comment">%limitation for every branch</span></span><br><span class="line">    problem.forest.heightlimitation.min = min(num(:,<span class="number">1</span>));</span><br><span class="line">    problem.forest.heightlimitation.max = max(num(:,<span class="number">2</span>));</span><br><span class="line">    problem.forest.structure = tree; <span class="comment">%%definition of structure</span></span><br><span class="line">    num_size = <span class="built_in">size</span>(num);</span><br><span class="line">    problem.statesize = [<span class="number">3</span>, num_size(<span class="number">1</span>)];</span><br><span class="line">    problem.statenormalize = <span class="built_in">ones</span>(problem.statesize);</span><br><span class="line">     </span><br><span class="line">    temp.state = [];</span><br><span class="line">    temp.velocity = [];</span><br><span class="line">    temp.volume = [];</span><br><span class="line">    temp.pbest.state = [];</span><br><span class="line">    temp.pbest.volume = [];</span><br><span class="line"></span><br><span class="line">    gbest.volume = <span class="built_in">inf</span>;</span><br><span class="line">    particles = <span class="built_in">repmat</span>(temp, problem.nparticles, <span class="number">1</span>);</span><br><span class="line">    problem.minivolume = <span class="built_in">zeros</span>(<span class="number">1</span>, problem.niterations);</span><br><span class="line">    problem.fail = <span class="built_in">zeros</span>(<span class="number">1</span>, problem.niterations);</span><br><span class="line"></span><br><span class="line">    tmp.state = [];</span><br><span class="line">    problem.stateiterations = <span class="built_in">repmat</span>(tmp,problem.niterations,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> =<span class="number">1</span>:problem.nparticles</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">            particles(<span class="built_in">i</span>).state = generateParticle(problem.forest.limitation, problem.forest.structure, problem.statesize, problem.forest.diameterlimitation);</span><br><span class="line">            <span class="keyword">if</span> (checknull(particles(<span class="built_in">i</span>).state) ==<span class="number">0</span>) || (diametercheck(particles(<span class="built_in">i</span>).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">               ||(checkheight(particles(<span class="built_in">i</span>).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(<span class="built_in">i</span>).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line">               <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        particles(<span class="built_in">i</span>).velocity = <span class="built_in">zeros</span>(problem.statesize);</span><br><span class="line">        particles(<span class="built_in">i</span>).volume = calcVolume(particles(<span class="built_in">i</span>).state, problem.forest.structure);</span><br><span class="line">        particles(<span class="built_in">i</span>).pbest.state = particles(<span class="built_in">i</span>).state;</span><br><span class="line">        particles(<span class="built_in">i</span>).pbest.volume = particles(<span class="built_in">i</span>).volume;</span><br><span class="line">        <span class="keyword">if</span> particles(<span class="built_in">i</span>).volume &lt;  gbest.volume</span><br><span class="line">            gbest.volume = particles(<span class="built_in">i</span>).volume;</span><br><span class="line">            gbest.state = particles(<span class="built_in">i</span>).state;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> it = <span class="number">1</span>:problem.niterations</span><br><span class="line">        problem.L = <span class="number">2</span>*(<span class="number">1</span>-it*<span class="number">1.0</span>/problem.niterations);</span><br><span class="line">        <span class="keyword">if</span> it&lt; <span class="number">0.75</span>*problem.niterations </span><br><span class="line">            problem.avoidancerate = <span class="built_in">rand</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            problem.avoidancerate = <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> p = <span class="number">1</span>:problem.nparticles*problem.avoidancerate</span><br><span class="line">            particles(p).velocity = problem.w*particles(p).velocity ...</span><br><span class="line">                    + problem.c1*<span class="built_in">rand</span>(problem.statesize).*(particles(p).pbest.state - particles(p).state) ...</span><br><span class="line">                    + problem.c2*<span class="built_in">rand</span>(problem.statesize).*(gbest.state - particles(p).state);            </span><br><span class="line">            particles(p).state = particles(p).state + particles(p).velocity.*problem.statenormalize*<span class="number">0.15</span>;</span><br><span class="line">            <span class="keyword">if</span> (diametercheck(particles(p).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">                ||(checkheight(particles(p).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(p).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line"><span class="comment">%                 particles(p).state = particles(p).pbest.state;</span></span><br><span class="line">                problem.fail(it) = problem.fail(it) + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            particles(p).volume = calcVolume(particles(p).state, problem.forest.structure);</span><br><span class="line">            <span class="keyword">if</span> particles(p).volume &lt; particles(p).pbest.volume</span><br><span class="line">                particles(p).pbest.volume = particles(p).volume;</span><br><span class="line">                particles(p).pbest.state = particles(p).state;</span><br><span class="line">                <span class="keyword">if</span> particles(p).pbest.volume &lt; gbest.volume</span><br><span class="line">                    gbest.volume = particles(p).pbest.volume;</span><br><span class="line">                    gbest.state = particles(p).pbest.state;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> p = <span class="built_in">ceil</span>(problem.nparticles*problem.avoidancerate):problem.nparticles</span><br><span class="line">            particles(p).velocity = problem.w*particles(p).velocity ...</span><br><span class="line">                    - problem.L*(<span class="built_in">rand</span>(problem.statesize).*(particles(p).pbest.state - particles(p).state) ...</span><br><span class="line">                    + <span class="built_in">rand</span>(problem.statesize).*(gbest.state - particles(p).state));      </span><br><span class="line">            particles(p).state = particles(p).state + particles(p).velocity.*problem.statenormalize*<span class="number">0.15</span>;</span><br><span class="line">            </span><br><span class="line">             <span class="keyword">if</span> (diametercheck(particles(p).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">                ||(checkheight(particles(p).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(p).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line">                problem.fail(it) = problem.fail(it) + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">             particles(p).volume = calcVolume(particles(p).state, problem.forest.structure);  </span><br><span class="line">             <span class="keyword">if</span> particles(p).volume &lt; particles(p).pbest.volume</span><br><span class="line">                particles(p).pbest.volume = particles(p).volume;</span><br><span class="line">                particles(p).pbest.state = particles(p).state;</span><br><span class="line">                <span class="keyword">if</span> particles(p).pbest.volume &lt; gbest.volume</span><br><span class="line">                    gbest.volume = particles(p).pbest.volume;</span><br><span class="line">                    gbest.state = particles(p).pbest.state;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        problem.w = problem.w*problem.wdamp;</span><br><span class="line">        problem.minivolume(it) = gbest.volume;</span><br><span class="line">        problem.stateiterations(it).state = <span class="built_in">zeros</span>(problem.statesize);</span><br><span class="line">        problem.stateiterations(it).state = gbest.state;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    save(<span class="string">'problem'</span>)</span><br><span class="line">    savefig(<span class="string">'VolumeChange'</span>);</span><br><span class="line">    savedata(problem.stateiterations, problem.forest.structure);</span><br><span class="line">    save (<span class="string">'problem.minivolume.mat'</span>);</span><br><span class="line">    showvolumes(problem.minivolume);</span><br><span class="line"><span class="comment">%   profile viewer</span></span><br></pre></td></tr></table></figure>
<h3 id="Local-Minimum-Avoidance"><a href="#Local-Minimum-Avoidance" class="headerlink" title="Local Minimum Avoidance"></a>Local Minimum Avoidance</h3><p>As an heuristic strategy, PSO also tends to falls into local minimum. Here we provide a simple trick to handle this problem. Particles are divided to two groups according to a random generated number, avoidance rate, in each iteration. One group executes the traditional updating rule to move toward the discovered better solution while another group explores potential area that may be missed through moving away from the discovered solution. In this manner, particles are capable of exploring larger space instead of trapping into local minimum and hence PSO performs slightly better.</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>Particle Swarm Optimization. (2017, November 15). In Wikipedia, the free encyclopedia. Retrieved November 15, 2017, from <a href="http://en.wikipedia.org/wiki/Particle_swarm_optimization" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Particle_swarm_optimization</a><br>Trelea, I. C. (2003). The particle swarm optimization algorithm: convergence analysis and parameter selection. Elsevier North-Holland, Inc.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/05/Particle-Swarm-Optimization/" data-id="cjcx5r3bn000c7qs6fr2gp0b8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/12/06/3-Dimensional-Reconstruction-from-2-Dimensional-Slicing/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          3D Model Repairing -- Widen the Thin Wall
        
      </div>
    </a>
  
  
    <a href="/2017/12/02/Experience-in-Tian-Chi-Big-Data-Competetion/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Experience in Tian Chi Big Data Competetion</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/16/Frequently-Used-Commands-in-Windows/">Frequently Used Commands in Windows</a>
          </li>
        
          <li>
            <a href="/2018/01/16/Papers-relevant-to-Video-Prediction/">Papers relevant to Video Prediction</a>
          </li>
        
          <li>
            <a href="/2018/01/16/Details-of-Neural-Network/">Details of Deep Learning</a>
          </li>
        
          <li>
            <a href="/2018/01/16/Framework-of-Unsupervised-Learning/">Framework of Unsupervised Learning</a>
          </li>
        
          <li>
            <a href="/2018/01/16/Representation/">Reading Notes of &#34;Toward Learning a Compositional Visual Representation&#34;</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Yasheng Sun<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>