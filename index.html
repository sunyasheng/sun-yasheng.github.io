<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Enjoy Short Life</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Enjoy Short Life">
<meta property="og:url" content="https://sunyasheng.github.io/index.html">
<meta property="og:site_name" content="Enjoy Short Life">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Enjoy Short Life">
  
    <link rel="alternate" href="/atom.xml" title="Enjoy Short Life" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Enjoy Short Life</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://sunyasheng.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-An-Elegant-Way-to-Cover-Line-Segments-with-Grids" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/08/An-Elegant-Way-to-Cover-Line-Segments-with-Grids/" class="article-date">
  <time datetime="2017-12-08T03:32:38.000Z" itemprop="datePublished">2017-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/08/An-Elegant-Way-to-Cover-Line-Segments-with-Grids/">An Elegant Way to Cover Line Segments with Grids</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Sometimes we are required to cover line segments with grids. Here, I will introduce a simple trick to build the grids elegantly. The whole precedure can be divied into two steps as is shown below.</p>
<h3 id="Clip-a-Line-Segment-with-Boundaries-of-Grid"><a href="#Clip-a-Line-Segment-with-Boundaries-of-Grid" class="headerlink" title="Clip a Line Segment with Boundaries of Grid"></a>Clip a Line Segment with Boundaries of Grid</h3><p>Below is the code for clipping a line segment with grids. The idea is pretty straigtfoward. A line can be described by the formula in Fig. 1 parameterized by t. So We can represent a cuting point by t when we cut a line segment with the boundary of grids. The procedure in code consists of three steps. Firstly, we cut a line with the boundaries of grids parallel to x axis and insert the t to a set. And similarly, we cut a line with the boundaries of grids parallel to y axis and also insert the t to a set. Finally, we compute the coordinates of the clipping points according to Fig.1 and put them to a vector. </p>
<p><img src="content/images/2017/12/line_representation.jpeg" alt="Fig.1. Parameter description of a line" style="width: 150px;"><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">double</span>&gt; t;</span><br><span class="line">t.insert(<span class="number">0</span>);t.insert(<span class="number">1</span>);<span class="comment">//insert start point and end point of a line segment</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = min(x1, x2)/GRID_LENGTH); i &lt; max(x1, x2)/GRID_LENGTH; i++)&#123;<span class="comment">//clip a line segment with boundary of grids</span></span><br><span class="line">	<span class="keyword">if</span>(!(x1=&lt;i*GRID_LENGTH&amp;&amp;i*GRID_LENGTH&lt;x2))<span class="keyword">continue</span>;</span><br><span class="line">	t.insert((i*GRID_LENGTH)/(x2-x1));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = min(y1, y2)/GRID_LENGTH); j &lt; max(y1, y2)/GRID_LENGTH; j++)&#123;<span class="comment">//clip a line segment with boundary of grids</span></span><br><span class="line">	<span class="keyword">if</span>(!(y1=&lt;j*GRID_LENGTH&amp;&amp;i*GRID_LENGTH&lt;y2))<span class="keyword">continue</span>;</span><br><span class="line">	t.insert((j*GRID_LENGTH)/(y2-y1));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">double</span>&gt;::iterator it; <span class="keyword">double</span> last_it;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; &gt; segment_points;</span><br><span class="line"><span class="keyword">for</span>(it = t.begin(); it != t.end(); it++)&#123;<span class="comment">//insert clipping points to a vector</span></span><br><span class="line">	<span class="keyword">if</span>(it!=t.begin()&amp;&amp;<span class="built_in">abs</span>(*it-last_it)&lt;eps)<span class="keyword">continue</span>;</span><br><span class="line">	last_it = *it;</span><br><span class="line">	segment_points.push_back(make_pair(x1+*it*(x2-x1), y1+*it*(y2-y1)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Put-Line-Segment-to-Its-Corresponding-Grid"><a href="#Put-Line-Segment-to-Its-Corresponding-Grid" class="headerlink" title="Put Line Segment to Its Corresponding Grid"></a>Put Line Segment to Its Corresponding Grid</h3><p>After line segment clipping, the endpoints of a line is guaranteed to be lied in the grid. Without loss of generality, we represent a grid with its lower left corner coordinate. Therefore, we could quickly determine which grid the current line is located at by its midpoint.</p>
<pre><code class="C"><span class="built_in">set</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;grids;
grids.insert(make_pair(midpoint_x/GRID_LENGTH - midpoint_x&lt;<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>, midpoint_y/GRID_LENGTH - midpoint_y&lt;<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>))
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/08/An-Elegant-Way-to-Cover-Line-Segments-with-Grids/" data-id="cjayu1e9p000135s6nvbnjegv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-3-Dimensional-Reconstruction-from-2-Dimensional-Slicing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/3-Dimensional-Reconstruction-from-2-Dimensional-Slicing/" class="article-date">
  <time datetime="2017-12-06T05:54:48.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/3-Dimensional-Reconstruction-from-2-Dimensional-Slicing/">3-Dimensional Reconstruction from 2-Dimensional Slicing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Introduction-of-Marching-Cubes-Algorithm"><a href="#Introduction-of-Marching-Cubes-Algorithm" class="headerlink" title="Introduction of Marching Cubes Algorithm"></a>Introduction of Marching Cubes Algorithm</h3><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>Hafizah, M., Tan, K., &amp; Spriyanto, E. (2010). 3D ultrasound image reconstruction based on VTK.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/06/3-Dimensional-Reconstruction-from-2-Dimensional-Slicing/" data-id="cjayu1e9j000035s6f4inq2u6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Particle-Swarm-Optimization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/05/Particle-Swarm-Optimization/" class="article-date">
  <time datetime="2017-12-05T10:31:30.000Z" itemprop="datePublished">2017-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/05/Particle-Swarm-Optimization/">Particle Swarm Optimization</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Introduction-of-Particle-Swarm-Optimization"><a href="#Introduction-of-Particle-Swarm-Optimization" class="headerlink" title="Introduction of Particle Swarm Optimization"></a>Introduction of Particle Swarm Optimization</h3><p>Particle Swarm Optimization(PSO) is a computational method that finds a solution by iteratively improving a candidate solution, Which is broadly applied to the problems whose exact solution are impossible to compute, specifically nonlinear optimization problems.</p>
<p>PSO is firstly introduced to simulate social behavior but finally became a optimization paradigm to perform optimzation in complex situations. PSO have the following advantages: 1) it makes few assumptions and is capable of searching solutions in a very large state space. 2) it does not require the problem to be differentiable like ohter optimization paradigm such as gradient descent. However, it does not guarantee that a opitmal solution is found.</p>
<h3 id="Standard-Swarm-Optimization-Procedure"><a href="#Standard-Swarm-Optimization-Procedure" class="headerlink" title="Standard Swarm Optimization Procedure"></a>Standard Swarm Optimization Procedure</h3><p>Simulating the food seeking process of flock, PSO fisrtly initialize many particles representing solutions and update those particles iteratively according to the PSO updating rule shown in Fig.1. p1 indicates the best solution in histroy for each particle while p2 indicates best solution of all particles. Therefore, updating is divided into two stages, the velocity reflecting the inertia towards better solution is computed and then this velocity is added to the previous position of each particle in second stage. a, b, c, d, r1, and r2 are all coefficients affecting this updating process.<br><img src="content/images/2017/12/PSO_updating_rule.png" alt="Fig.1. PSO updating Rule" style="width: 500px;"></p>
<h3 id="Finding-a-solution-satisfying-multiple-constraints"><a href="#Finding-a-solution-satisfying-multiple-constraints" class="headerlink" title="Finding a solution satisfying multiple constraints"></a>Finding a solution satisfying multiple constraints</h3><p>However, for each particle a variety of constraints need to be satisfied in practice, leading to an optimization problem under certain conditions. Below is an example code I wrote to optimize a nonliear function with complex constrains. In this example code, the action I took is ignoring those illegal solutions after updating. At the same time, I record number of times that illegal solutions happend as an reference for parameter tuning.</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span> = <span class="title">PSO</span><span class="params">(num, tree)</span></span></span><br><span class="line"><span class="comment">% profile on</span></span><br><span class="line">    tree = init(tree);</span><br><span class="line">    kappa = <span class="number">1</span>;</span><br><span class="line">    phi1 = <span class="number">2.05</span>;</span><br><span class="line">    phi2 = <span class="number">2.05</span>;</span><br><span class="line">    phi = phi1 + phi2;</span><br><span class="line">    chi = <span class="number">2</span>*kappa/<span class="built_in">abs</span>(<span class="number">2</span>-phi-<span class="built_in">sqrt</span>(phi^<span class="number">2</span><span class="number">-4</span>*phi));</span><br><span class="line">    problem.w = chi;</span><br><span class="line">    problem.wdamp = <span class="number">1</span>;</span><br><span class="line">    problem.c1 = chi*phi1;</span><br><span class="line">    problem.c2 = chi*phi2;</span><br><span class="line">    problem.nparticles = <span class="number">200</span>;</span><br><span class="line">    problem.niterations = <span class="number">2400</span>;</span><br><span class="line">    problem.localminimum = <span class="number">0</span>;</span><br><span class="line">    problem.avoidancerate = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    problem.forest.diameterlimitation.max = <span class="number">2</span>;</span><br><span class="line">    problem.forest.diameterlimitation.min = <span class="number">0.75</span>;</span><br><span class="line">    problem.forest.limitation = num; <span class="comment">%limitation for every branch</span></span><br><span class="line">    problem.forest.heightlimitation.min = min(num(:,<span class="number">1</span>));</span><br><span class="line">    problem.forest.heightlimitation.max = max(num(:,<span class="number">2</span>));</span><br><span class="line">    problem.forest.structure = tree; <span class="comment">%%definition of structure</span></span><br><span class="line">    num_size = <span class="built_in">size</span>(num);</span><br><span class="line">    problem.statesize = [<span class="number">3</span>, num_size(<span class="number">1</span>)];</span><br><span class="line">    problem.statenormalize = <span class="built_in">ones</span>(problem.statesize);</span><br><span class="line">     </span><br><span class="line">    temp.state = [];</span><br><span class="line">    temp.velocity = [];</span><br><span class="line">    temp.volume = [];</span><br><span class="line">    temp.pbest.state = [];</span><br><span class="line">    temp.pbest.volume = [];</span><br><span class="line"></span><br><span class="line">    gbest.volume = <span class="built_in">inf</span>;</span><br><span class="line">    particles = <span class="built_in">repmat</span>(temp, problem.nparticles, <span class="number">1</span>);</span><br><span class="line">    problem.minivolume = <span class="built_in">zeros</span>(<span class="number">1</span>, problem.niterations);</span><br><span class="line">    problem.fail = <span class="built_in">zeros</span>(<span class="number">1</span>, problem.niterations);</span><br><span class="line"></span><br><span class="line">    tmp.state = [];</span><br><span class="line">    problem.stateiterations = <span class="built_in">repmat</span>(tmp,problem.niterations,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> =<span class="number">1</span>:problem.nparticles</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">            particles(<span class="built_in">i</span>).state = generateParticle(problem.forest.limitation, problem.forest.structure, problem.statesize, problem.forest.diameterlimitation);</span><br><span class="line">            <span class="keyword">if</span> (checknull(particles(<span class="built_in">i</span>).state) ==<span class="number">0</span>) || (diametercheck(particles(<span class="built_in">i</span>).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">               ||(checkheight(particles(<span class="built_in">i</span>).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(<span class="built_in">i</span>).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line">               <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        particles(<span class="built_in">i</span>).velocity = <span class="built_in">zeros</span>(problem.statesize);</span><br><span class="line">        particles(<span class="built_in">i</span>).volume = calcVolume(particles(<span class="built_in">i</span>).state, problem.forest.structure);</span><br><span class="line">        particles(<span class="built_in">i</span>).pbest.state = particles(<span class="built_in">i</span>).state;</span><br><span class="line">        particles(<span class="built_in">i</span>).pbest.volume = particles(<span class="built_in">i</span>).volume;</span><br><span class="line">        <span class="keyword">if</span> particles(<span class="built_in">i</span>).volume &lt;  gbest.volume</span><br><span class="line">            gbest.volume = particles(<span class="built_in">i</span>).volume;</span><br><span class="line">            gbest.state = particles(<span class="built_in">i</span>).state;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> it = <span class="number">1</span>:problem.niterations</span><br><span class="line">        problem.L = <span class="number">2</span>*(<span class="number">1</span>-it*<span class="number">1.0</span>/problem.niterations);</span><br><span class="line">        <span class="keyword">if</span> it&lt; <span class="number">0.75</span>*problem.niterations </span><br><span class="line">            problem.avoidancerate = <span class="built_in">rand</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            problem.avoidancerate = <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> p = <span class="number">1</span>:problem.nparticles*problem.avoidancerate</span><br><span class="line">            particles(p).velocity = problem.w*particles(p).velocity ...</span><br><span class="line">                    + problem.c1*<span class="built_in">rand</span>(problem.statesize).*(particles(p).pbest.state - particles(p).state) ...</span><br><span class="line">                    + problem.c2*<span class="built_in">rand</span>(problem.statesize).*(gbest.state - particles(p).state);            </span><br><span class="line">            particles(p).state = particles(p).state + particles(p).velocity.*problem.statenormalize*<span class="number">0.15</span>;</span><br><span class="line">            <span class="keyword">if</span> (diametercheck(particles(p).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">                ||(checkheight(particles(p).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(p).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line"><span class="comment">%                 particles(p).state = particles(p).pbest.state;</span></span><br><span class="line">                problem.fail(it) = problem.fail(it) + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            particles(p).volume = calcVolume(particles(p).state, problem.forest.structure);</span><br><span class="line">            <span class="keyword">if</span> particles(p).volume &lt; particles(p).pbest.volume</span><br><span class="line">                particles(p).pbest.volume = particles(p).volume;</span><br><span class="line">                particles(p).pbest.state = particles(p).state;</span><br><span class="line">                <span class="keyword">if</span> particles(p).pbest.volume &lt; gbest.volume</span><br><span class="line">                    gbest.volume = particles(p).pbest.volume;</span><br><span class="line">                    gbest.state = particles(p).pbest.state;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> p = <span class="built_in">ceil</span>(problem.nparticles*problem.avoidancerate):problem.nparticles</span><br><span class="line">            particles(p).velocity = problem.w*particles(p).velocity ...</span><br><span class="line">                    - problem.L*(<span class="built_in">rand</span>(problem.statesize).*(particles(p).pbest.state - particles(p).state) ...</span><br><span class="line">                    + <span class="built_in">rand</span>(problem.statesize).*(gbest.state - particles(p).state));      </span><br><span class="line">            particles(p).state = particles(p).state + particles(p).velocity.*problem.statenormalize*<span class="number">0.15</span>;</span><br><span class="line">            </span><br><span class="line">             <span class="keyword">if</span> (diametercheck(particles(p).state, problem.forest.structure,problem.forest.diameterlimitation) == <span class="number">0</span>)...</span><br><span class="line">                ||(checkheight(particles(p).state, problem.forest.structure,problem.forest.limitation) ==<span class="number">0</span>)||(anglecheck(particles(p).state, problem.forest.structure) == <span class="number">0</span>)</span><br><span class="line">                problem.fail(it) = problem.fail(it) + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">             particles(p).volume = calcVolume(particles(p).state, problem.forest.structure);  </span><br><span class="line">             <span class="keyword">if</span> particles(p).volume &lt; particles(p).pbest.volume</span><br><span class="line">                particles(p).pbest.volume = particles(p).volume;</span><br><span class="line">                particles(p).pbest.state = particles(p).state;</span><br><span class="line">                <span class="keyword">if</span> particles(p).pbest.volume &lt; gbest.volume</span><br><span class="line">                    gbest.volume = particles(p).pbest.volume;</span><br><span class="line">                    gbest.state = particles(p).pbest.state;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        problem.w = problem.w*problem.wdamp;</span><br><span class="line">        problem.minivolume(it) = gbest.volume;</span><br><span class="line">        problem.stateiterations(it).state = <span class="built_in">zeros</span>(problem.statesize);</span><br><span class="line">        problem.stateiterations(it).state = gbest.state;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    save(<span class="string">'problem'</span>)</span><br><span class="line">    savefig(<span class="string">'VolumeChange'</span>);</span><br><span class="line">    savedata(problem.stateiterations, problem.forest.structure);</span><br><span class="line">    save (<span class="string">'problem.minivolume.mat'</span>);</span><br><span class="line">    showvolumes(problem.minivolume);</span><br><span class="line"><span class="comment">%   profile viewer</span></span><br></pre></td></tr></table></figure>
<h3 id="Local-Minimum-Avoidance"><a href="#Local-Minimum-Avoidance" class="headerlink" title="Local Minimum Avoidance"></a>Local Minimum Avoidance</h3><p>As an heuristic strategy, PSO also tends to falls into local minimum. Here we provide a simple trick to handle this problem. Particles are divided to two groups according to a random generated number, avoidance rate, in each iteration. One group executes the traditional updating rule to move toward the discovered better solution while another group explores potential area that may be missed through moving away from the discovered solution. In this manner, particles are capable of exploring larger space instead of trapping into local minimum and hence PSO performs slightly better.</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>Particle Swarm Optimization. (2017, November 15). In Wikipedia, the free encyclopedia. Retrieved November 15, 2017, from <a href="http://en.wikipedia.org/wiki/Particle_swarm_optimization" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Particle_swarm_optimization</a><br>Trelea, I. C. (2003). The particle swarm optimization algorithm: convergence analysis and parameter selection. Elsevier North-Holland, Inc.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/05/Particle-Swarm-Optimization/" data-id="cjayu1ea0000635s6sf5elvxh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Experience-in-Tian-Chi-Big-Data-Competetion" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/02/Experience-in-Tian-Chi-Big-Data-Competetion/" class="article-date">
  <time datetime="2017-12-02T14:30:42.000Z" itemprop="datePublished">2017-12-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/02/Experience-in-Tian-Chi-Big-Data-Competetion/">Experience in Tian Chi Big Data Competetion</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This is my first time to participate in data competition. Unfortunately, I obtained quite a low score in this competition. The problem and my solution is posted here.</p>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p><a href="content/images/2017/12/Problem.pdf">Problem</a></p>
<p>In this problem, we are required to identify in which shop the transaction happened given the relevant information. </p>
<h3 id="My-Solution"><a href="#My-Solution" class="headerlink" title="My Solution"></a>My Solution</h3><p>I took this problem as a binary classification problem. Therefore, I trained a xgboost classifier for every shop. Then I used the trained classifiers to compute logistic probability of the corresponding shop and selected the shop which has maximum probability as our prediction result.</p>
<p>Below is my python code for feature selection written on jupyter notebook.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> sklearn.cross_validation <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> log_loss, accuracy_score</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> GradientBoostingClassifier</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"><span class="comment">##reading the data</span></span><br><span class="line">shop_info = pd.read_csv(<span class="string">'ccf_first_round_shop_info.csv'</span>)</span><br><span class="line">train_data = pd.read_csv(<span class="string">'ccf_first_round_user_shop_behavior.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">##convert the string to int for later use</span></span><br><span class="line"><span class="keyword">if</span> shop_info[<span class="string">"shop_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    shop_info[<span class="string">"shop_id"</span>] = shop_info.shop_id.str.replace(<span class="string">'s_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"><span class="keyword">if</span> shop_info[<span class="string">"category_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    shop_info[<span class="string">"category_id"</span>] = shop_info.category_id.str.replace(<span class="string">'c_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"><span class="keyword">if</span> shop_info[<span class="string">"mall_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    shop_info[<span class="string">"mall_id"</span>] = shop_info.mall_id.str.replace(<span class="string">'m_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"></span><br><span class="line"><span class="comment">##Add mall information to training data</span></span><br><span class="line"><span class="keyword">if</span> train_data[<span class="string">"shop_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    train_data[<span class="string">"shop_id"</span>] = train_data.shop_id.str.replace(<span class="string">'s_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"><span class="keyword">if</span> train_data[<span class="string">"user_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    train_data[<span class="string">"user_id"</span>] = train_data.user_id.str.replace(<span class="string">'u_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"></span><br><span class="line">shop_mall = shop_info.loc[:,[<span class="string">'shop_id'</span>,<span class="string">'mall_id'</span>]]</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="string">'mall_id'</span> <span class="keyword">in</span> train_data:</span><br><span class="line">    train_data = train_data.merge(shop_mall, on = <span class="string">'shop_id'</span>,how = <span class="string">'outer'</span>)<span class="comment">#, suffixes=('_1', '_2'))</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">'wifi_infos'</span> <span class="keyword">in</span> train_data:</span><br><span class="line">    train_data = train_data.drop(<span class="string">'wifi_infos'</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">##convert transaction time to a number as feature</span></span><br><span class="line">train_data.time_stamp = train_data.time_stamp.astype(str)</span><br><span class="line">time = []</span><br><span class="line"><span class="keyword">for</span> index,row <span class="keyword">in</span> train_data.iterrows():</span><br><span class="line">    tmp = row[<span class="string">'time_stamp'</span>]</span><br><span class="line">    a = int(tmp[<span class="number">11</span>]); b = int(tmp[<span class="number">12</span>]); c = int(tmp[<span class="number">14</span>]); d = int(tmp[<span class="number">15</span>])</span><br><span class="line">    time.append(((a*<span class="number">10</span>+b)*<span class="number">60</span>+(c*<span class="number">10</span>+d))/<span class="number">10</span>)</span><br><span class="line">train_data[<span class="string">'time'</span>] = pd.Series(time, index = train_data.index)</span><br><span class="line"><span class="keyword">if</span> <span class="string">'time_stamp'</span> <span class="keyword">in</span> train_data:</span><br><span class="line">    train_data = train_data.drop(<span class="string">'time_stamp'</span>,<span class="number">1</span>)</span><br><span class="line">cols = train_data.columns.tolist()</span><br><span class="line">col = []</span><br><span class="line">col.append(cols[<span class="number">0</span>]);col.append(cols[<span class="number">2</span>]);col.append(cols[<span class="number">3</span>]);col.append(cols[<span class="number">4</span>]);col.append(cols[<span class="number">5</span>]);col.append(cols[<span class="number">1</span>]);</span><br><span class="line">train_data.append(col)</span><br><span class="line">train_data = train_data[col]</span><br><span class="line"></span><br><span class="line"><span class="comment">##sort wifi_infos based on their strength and build a dictionary to map string to int for later use</span></span><br><span class="line">b = []</span><br><span class="line"><span class="keyword">for</span> index,row <span class="keyword">in</span> train_data.iterrows():</span><br><span class="line">    a = row[<span class="string">"wifi_infos"</span>].split(<span class="string">';'</span>);</span><br><span class="line">    a = sorted(a, key = <span class="keyword">lambda</span> d:int(d.split(<span class="string">'|'</span>)[<span class="number">1</span>]),reverse = <span class="keyword">True</span>)</span><br><span class="line">    b.append(a)</span><br><span class="line">    </span><br><span class="line">wifi_infos = np.zeros((len(b),<span class="number">20</span>));</span><br><span class="line"><span class="keyword">for</span> i, row <span class="keyword">in</span> enumerate(b):</span><br><span class="line">    <span class="keyword">for</span> j, column <span class="keyword">in</span> enumerate(row):</span><br><span class="line">        wifi_infos[i][j] = train_bissid2dict[column.split(<span class="string">'|'</span>)[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">##map shop_id, mall_id and user_id to class and build a dictionary</span></span><br><span class="line">data_without_wifi = train_data.values</span><br><span class="line">shop_id2class = &#123;&#125;</span><br><span class="line">class2shop_id = &#123;&#125;</span><br><span class="line">cnt_shop = <span class="number">1</span>;</span><br><span class="line">user_id2class = &#123;&#125;</span><br><span class="line">cnt_user_id = <span class="number">1</span>;</span><br><span class="line">mall_id2class = &#123;&#125;</span><br><span class="line">cnt_mall_id = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(data_without_wifi)):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data_without_wifi[i][<span class="number">5</span>] <span class="keyword">in</span> shop_id2class:</span><br><span class="line">        shop_id2class[data_without_wifi[i][<span class="number">5</span>]] = cnt_shop</span><br><span class="line">        class2shop_id[cnt_shop] = data_without_wifi[i][<span class="number">5</span>]</span><br><span class="line">        cnt_shop += <span class="number">1</span></span><br><span class="line">    data_without_wifi[i][<span class="number">5</span>] = shop_id2class[data_without_wifi[i][<span class="number">5</span>]]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data_without_wifi[i][<span class="number">3</span>] <span class="keyword">in</span> mall_id2class:</span><br><span class="line">        mall_id2class[data_without_wifi[i][<span class="number">3</span>]] = cnt_mall_id</span><br><span class="line">        cnt_mall_id += <span class="number">1</span></span><br><span class="line">    data_without_wifi[i][<span class="number">3</span>] = mall_id2class[data_without_wifi[i][<span class="number">3</span>]]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data_without_wifi[i][<span class="number">0</span>] <span class="keyword">in</span> user_id2class:</span><br><span class="line">        user_id2class[data_without_wifi[i][<span class="number">0</span>]] = cnt_user_id</span><br><span class="line">        cnt_user_id += <span class="number">1</span></span><br><span class="line">    data_without_wifi[i][<span class="number">0</span>] = user_id2class[data_without_wifi[i][<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">##Add the wifi information and save the data</span></span><br><span class="line">data = np.hstack((data_without_wifi[:,:<span class="number">5</span>],wifi_infos,data_without_wifi[:,<span class="number">5</span>].reshape(<span class="number">-1</span>,<span class="number">1</span>)))</span><br><span class="line">data[data==<span class="number">0</span>]=np.nan</span><br><span class="line">np.savetxt(<span class="string">'data.csv'</span>,data, delimiter=<span class="string">","</span>)</span><br></pre></td></tr></table></figure></p>
<p>To Sum up, the feature I selected includes longitude, latitude, mall id, transation time and wifi infos sorted from highest to lowest based on their strength.</p>
<p>Classifier trainning is described below.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> genfromtxt</span><br><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb</span><br><span class="line"></span><br><span class="line">data = genfromtxt(<span class="string">'data.csv'</span>,delimiter=<span class="string">','</span>)</span><br><span class="line"><span class="keyword">for</span> shop_id <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">8478</span>):</span><br><span class="line">	data_x = data[:,:<span class="number">-1</span>]; <span class="comment">#data_y = data[:data_scale*20000,-1].astype(int)</span></span><br><span class="line">	data_y = (data[:,<span class="number">-1</span>]==shop_id).astype(int);</span><br><span class="line">	X_train, X_test, y_train, y_test = train_test_split(data_x, data_y, test_size=<span class="number">0.33</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line">	dtrain = xgb.DMatrix(X_train, label=y_train)</span><br><span class="line">	dtest = xgb.DMatrix(X_test, label=y_test)</span><br><span class="line"></span><br><span class="line">	param = &#123;<span class="string">'max_depth'</span>: <span class="number">2</span>, <span class="string">'eta'</span>: <span class="number">1</span>, <span class="string">'silent'</span>: <span class="number">1</span>, <span class="string">'objective'</span>: <span class="string">'binary:logistic'</span>&#125;</span><br><span class="line">	param[<span class="string">'nthread'</span>] = <span class="number">4</span></span><br><span class="line">	<span class="comment"># param['eval_metric'] = 'auc'</span></span><br><span class="line"></span><br><span class="line">	evallist = [(dtest, <span class="string">'eval'</span>), (dtrain, <span class="string">'train'</span>)]</span><br><span class="line"></span><br><span class="line">	num_round = <span class="number">5</span></span><br><span class="line">	bst = xgb.train(param, dtrain, num_round)</span><br><span class="line">	<span class="keyword">if</span> shop_id%<span class="number">100</span> == <span class="number">0</span>:	</span><br><span class="line">		pred = (bst.predict(dtest)&gt;<span class="number">0.5</span>).astype(int)</span><br><span class="line">		error_rate = np.sum(pred != y_test)*<span class="number">1.0</span> / y_test.shape[<span class="number">0</span>]</span><br><span class="line">		print(str(shop_id)+<span class="string">' test error using logistic = &#123;&#125;'</span>.format(error_rate))</span><br><span class="line"></span><br><span class="line">	bst.save_model(str(shop_id)+<span class="string">'.model'</span>)</span><br></pre></td></tr></table></figure></p>
<p>Arrange the evaluation data to certain form for later use in prediction<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">eval_data = pd.read_csv(<span class="string">'evaluation_public.csv'</span>)</span><br><span class="line"><span class="keyword">if</span> eval_data[<span class="string">"user_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    eval_data[<span class="string">"user_id"</span>] = eval_data.user_id.str.replace(<span class="string">'u_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"><span class="keyword">if</span> eval_data[<span class="string">"mall_id"</span>].dtype == <span class="string">'object'</span>:</span><br><span class="line">    eval_data[<span class="string">"mall_id"</span>] = eval_data.mall_id.str.replace(<span class="string">'m_'</span>, <span class="string">''</span>).astype(np.int64)</span><br><span class="line"></span><br><span class="line">b = []</span><br><span class="line"><span class="keyword">for</span> index,row <span class="keyword">in</span> eval_data.iterrows():</span><br><span class="line">    a = row[<span class="string">"wifi_infos"</span>].split(<span class="string">';'</span>);</span><br><span class="line">    a = sorted(a, key = <span class="keyword">lambda</span> d:int(d.split(<span class="string">'|'</span>)[<span class="number">1</span>]),reverse = <span class="keyword">True</span>)</span><br><span class="line">    b.append(a)</span><br><span class="line"></span><br><span class="line">wifi_infos = np.zeros((len(b),<span class="number">20</span>));</span><br><span class="line"><span class="keyword">for</span> i, row <span class="keyword">in</span> enumerate(b):</span><br><span class="line">    <span class="keyword">for</span> j, column <span class="keyword">in</span> enumerate(row):</span><br><span class="line">        <span class="keyword">if</span> column.split(<span class="string">'|'</span>)[<span class="number">0</span>] <span class="keyword">in</span> train_bissid2dict:</span><br><span class="line">            wifi_infos[i][j] = train_bissid2dict[column.split(<span class="string">'|'</span>)[<span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            wifi_infos[i][j] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">'time_stamp'</span> <span class="keyword">in</span> eval_data:</span><br><span class="line">    time = []</span><br><span class="line">    <span class="keyword">for</span> index,row <span class="keyword">in</span> eval_data.iterrows():</span><br><span class="line">        tmp = row[<span class="string">'time_stamp'</span>]</span><br><span class="line">        a = int(tmp[<span class="number">11</span>]); b = int(tmp[<span class="number">12</span>]); c = int(tmp[<span class="number">14</span>]); d = int(tmp[<span class="number">15</span>])</span><br><span class="line">        time.append(((a*<span class="number">10</span>+b)*<span class="number">60</span>+(c*<span class="number">10</span>+d))/<span class="number">10</span>)</span><br><span class="line">    eval_data[<span class="string">'time'</span>] = pd.Series(time, index = eval_data.index)</span><br><span class="line"><span class="keyword">if</span> <span class="string">'time_stamp'</span> <span class="keyword">in</span> eval_data:</span><br><span class="line">    eval_data = eval_data.drop(<span class="string">'time_stamp'</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">'wifi_infos'</span> <span class="keyword">in</span> eval_data:</span><br><span class="line">    eval_data = eval_data.drop(<span class="string">'wifi_infos'</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">data_final = eval_data.values</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(data_final)):</span><br><span class="line">    data_final[i][<span class="number">2</span>] = mall_id2class[data_final[i][<span class="number">2</span>]]</span><br><span class="line">    <span class="keyword">if</span> data_final[i][<span class="number">1</span>] <span class="keyword">in</span> user_id2class:</span><br><span class="line">        data_final[i][<span class="number">1</span>] = user_id2class[data_final[i][<span class="number">1</span>]]    </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        data_final[i][<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">data_done = np.hstack((data_final[:,:<span class="number">2</span>],data_final[:,<span class="number">3</span>:<span class="number">5</span>],data_final[:,<span class="number">2</span>].reshape(<span class="number">-1</span>,<span class="number">1</span>),data_final[:,<span class="number">5</span>].reshape(<span class="number">-1</span>,<span class="number">1</span>),wifi_infos))</span><br><span class="line">data_done[data_done == <span class="number">0</span>] = np.nan</span><br><span class="line">np.savetxt(<span class="string">'final_data.csv'</span>,data_done, delimiter=<span class="string">","</span>)</span><br></pre></td></tr></table></figure></p>
<p>Prediction is described below. It is really funny that I run this code on PI supercomputer for more than 40 hours. After I have been waiting for 20 hours, I tell myself that always program in future in parallel manner. At this time, I realize how important the distributive machine learning is.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> genfromtxt</span><br><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb</span><br><span class="line"></span><br><span class="line">data = genfromtxt(<span class="string">'final_data.csv'</span>,delimiter=<span class="string">','</span>)</span><br><span class="line">res = np.zeros((len(data),<span class="number">2</span>))</span><br><span class="line">res[:,<span class="number">0</span>] = data[:,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">bst = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">8478</span>):</span><br><span class="line">	bst[i] = xgb.Booster();</span><br><span class="line">	bst[i].load_model(str(i)+<span class="string">'.model'</span>); </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(data)):</span><br><span class="line">	evaluation = xgb.DMatrix(data[i,<span class="number">1</span>:]);</span><br><span class="line">	pred = np.zeros((<span class="number">8478</span>,<span class="number">1</span>));</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">8478</span>):</span><br><span class="line">		pred[j] = bst[j].predict(evaluation);</span><br><span class="line">		hash_shop_id = np.argmax(pred);</span><br><span class="line">		res[i,<span class="number">1</span>] = hash_shop_id;</span><br><span class="line"></span><br><span class="line">np.savetxt(<span class="string">'res.csv'</span>, res, delimiter=<span class="string">","</span>)</span><br></pre></td></tr></table></figure></p>
<p>Arrange the prediction results to the required results in jupyter notebook</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> genfromtxt</span><br><span class="line">res_data = genfromtxt(<span class="string">'res.csv'</span>,delimiter=<span class="string">','</span>)</span><br><span class="line">res_data = np.array(res_data).astype(int)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(res_data)):</span><br><span class="line">    res_data[i,<span class="number">1</span>] = class2shop_id[res_data[i,<span class="number">1</span>]]</span><br><span class="line">np.savetxt(<span class="string">'result.csv'</span>,res_data,fmt=<span class="string">'%d'</span>,delimiter=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line">replacements = &#123;<span class="string">','</span>:<span class="string">',s_'</span>&#125;</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'result.csv'</span>) <span class="keyword">as</span> infile, open(<span class="string">'result1.csv'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> outfile:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> infile:</span><br><span class="line">        <span class="keyword">for</span> src, target <span class="keyword">in</span> replacements.items():</span><br><span class="line">            line = line.replace(src, target)</span><br><span class="line">        outfile.write(line)</span><br></pre></td></tr></table></figure>
<h3 id="Some-Mistakes-I-Have-Made"><a href="#Some-Mistakes-I-Have-Made" class="headerlink" title="Some Mistakes I Have Made"></a>Some Mistakes I Have Made</h3><ul>
<li>Bias is significant in training because the number of negative data items is larger than postive greatly.</li>
<li>I only sorted the wifi_info as the feature without normalizing their strength as another feature, leading to loss of information. </li>
<li>I forget to use cross-validation to tune my hyperparamters.</li>
</ul>
<h3 id="Final-Accuracy"><a href="#Final-Accuracy" class="headerlink" title="Final Accuracy"></a>Final Accuracy</h3><p><img src="content/images/2017/12/Result.jpg" alt="Results"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/02/Experience-in-Tian-Chi-Big-Data-Competetion/" data-id="cjayu1e9y000435s68c9wz6wj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-PI超级计算使用常用shell命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/01/PI超级计算使用常用shell命令/" class="article-date">
  <time datetime="2017-12-01T06:38:20.000Z" itemprop="datePublished">2017-12-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/01/PI超级计算使用常用shell命令/">Cheatsheet for Frequently Used Shell Commands</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Here are some frequently used shell commands when we run programs on remote supercomputer.</p>
<h3 id="SSH-to-remote-supercomputer"><a href="#SSH-to-remote-supercomputer" class="headerlink" title="SSH to remote supercomputer"></a>SSH to remote supercomputer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p [portnumber] [usrname]@[ipaddress]</span><br></pre></td></tr></table></figure>
<h3 id="Use-python-in-supercomputer"><a href="#Use-python-in-supercomputer" class="headerlink" title="Use python in supercomputer"></a>Use python in supercomputer</h3><ul>
<li><p>Refer to python module</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module load ~/python27-gcc/bin/activate</span><br></pre></td></tr></table></figure>
</li>
<li><p>Use python environment </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/python27-gcc/bin/activate</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Transfer-files-between-local-computer-and-remote-computer"><a href="#Transfer-files-between-local-computer-and-remote-computer" class="headerlink" title="Transfer files between local computer and remote computer"></a>Transfer files between local computer and remote computer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp [filepath in local computer] [usrname]@[ipaddress]:[filepath in remote computer]</span><br></pre></td></tr></table></figure>
<h3 id="Run-shell-file-in-supercomputer"><a href="#Run-shell-file-in-supercomputer" class="headerlink" title="Run shell file in supercomputer"></a>Run shell file in supercomputer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbatch [shell file]</span><br></pre></td></tr></table></figure>
<h3 id="Execute-a-task"><a href="#Execute-a-task" class="headerlink" title="Execute a task"></a>Execute a task</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbatch -p cpu [slurm file]</span><br></pre></td></tr></table></figure>
<h3 id="Cancel-a-task"><a href="#Cancel-a-task" class="headerlink" title="Cancel a task"></a>Cancel a task</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scancel [jobnumber]</span><br></pre></td></tr></table></figure>
<h3 id="Show-our-tasks-running-on-supercomputer"><a href="#Show-our-tasks-running-on-supercomputer" class="headerlink" title="Show our tasks running on supercomputer"></a>Show our tasks running on supercomputer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squeue -u `whoami`</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/12/01/PI超级计算使用常用shell命令/" data-id="cjayu1e9w000335s6sypg7erg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-3D-Printing-Model-Repairing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/16/3D-Printing-Model-Repairing/" class="article-date">
  <time datetime="2017-11-16T12:37:49.000Z" itemprop="datePublished">2017-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/16/3D-Printing-Model-Repairing/">3D Printing Model Repairing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Introduction-of-Selective-Laser-Sintering-in-3D-printing"><a href="#Introduction-of-Selective-Laser-Sintering-in-3D-printing" class="headerlink" title="Introduction of Selective Laser Sintering in 3D printing"></a>Introduction of Selective Laser Sintering in 3D printing</h2><p>3D printing is an efficient additive manufacturing technology. The digital 3-dimensional model is sliced to many layers with equal height between adjacent layers and it is fabricated layer by layer. As one main technology of 3D printing, Selective Laser Sintering(SLS) fuses powdered materials with high powered laser focused on the surface of model. Unfortunately, the model will be damaged by high power if walls are too thin to tolerate the heat generated as shown in Fig.1. Therefore, the model needs to be modified slightly to avoid being burned out during fabrication. </p>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><p>The problem can be formulated to thicken all the thin walls to the required width such as 0.8 millimeters. As is shown in Fig.1, there are two kinds of contours in one layer, including outer contours and inner contours. Usually, outer contours are expected to be maintained to its orginal shape since change of outer contours will result in appearance change of the fabricated model. Therefore, our aim can be stated as shrinking the inner loop to ensure that walls meet the requirements.  </p>
<h3 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a>Methodology</h3><p>Here we propose an efficient and elegant strategy to enlarge the areas in danger. There are two main steps in our strategy, offseting and clipping. Firstly, we offset the outer boundary toward the inner region by 0.8 millimeters and clip all the inner contours intersecting with it. And then we offset the inner contours by 0.8 millimeters iteratively toward the inner region and clip all the inner contours intersecting with it. Finally, walls in this layer are guaranteed to be thinner then the required width after this two operations.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>Below is the code written in C++ using the Clipper Library which supplies us an easy way to execute bool operations between polygons in a 2 Dimensional plane.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> RenderingWidget::ModelThicken(<span class="built_in">std</span>::<span class="built_in">vector</span> &lt; <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;cutLine&gt;* &gt;* tc, <span class="keyword">int</span> numlayer) &#123;</span><br><span class="line"><span class="comment">/* if (mycutthicken == NULL)mycutthicken = new std::vector&lt;std::vector&lt;cutLine&gt;*&gt;[mycut-&gt;GetNumPieces()];*/</span></span><br><span class="line"> <span class="keyword">if</span> (tc == <span class="literal">NULL</span>)<span class="keyword">return</span> FALSE;</span><br><span class="line"> ClipperLib::Paths contours, res;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">size_t</span> j = <span class="number">0</span>; j &lt; tc[numlayer].size(); j++) &#123;</span><br><span class="line">	 ClipperLib::Path p;</span><br><span class="line">	 <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; (tc[numlayer])[j]-&gt;size(); k++) &#123;</span><br><span class="line">		 ClipperLib::cInt x = ScaleNumber*((tc[numlayer])[j])-&gt;at(k).position_vert[<span class="number">0</span>].data()[<span class="number">0</span>];</span><br><span class="line">		 ClipperLib::cInt y = ScaleNumber*((tc[numlayer])[j])-&gt;at(k).position_vert[<span class="number">0</span>].data()[<span class="number">1</span>];</span><br><span class="line">		 p &lt;&lt; IntPoint(x, y);</span><br><span class="line">	 &#125;</span><br><span class="line">	 contours.push_back(p);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//DrawPaths(contours);</span></span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = contours.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">	 <span class="keyword">if</span> (Orientation(contours[i]) == FALSE) &#123;</span><br><span class="line">		 Clipper difference; Clipper intersection; Paths tmpsolution, solution;</span><br><span class="line">		 <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; contours.size(); j++)<span class="keyword">if</span> (j != i) &#123;</span><br><span class="line">			 <span class="keyword">if</span> (Orientation(contours[j]) == TRUE&amp;&amp;IsNestedIn(contours[i], contours[j])) &#123;</span><br><span class="line">				 ClipperOffset co; Paths solution;</span><br><span class="line">				 co.AddPath(contours[j], jtMiter, etClosedPolygon);</span><br><span class="line">				 co.Execute(solution, -ScaleNumber*MIN_DIS); CleanPolygons(solution);</span><br><span class="line">				 intersection.AddPaths(solution, ptClip, TRUE);</span><br><span class="line">				 <span class="comment">/*DrawPaths(solution);*/</span></span><br><span class="line">			 &#125;</span><br><span class="line">			 <span class="keyword">else</span> <span class="keyword">if</span> (Orientation(contours[j]) == FALSE) &#123;</span><br><span class="line">				 ClipperOffset co; Paths solution;</span><br><span class="line">				 co.AddPath(contours[j], jtMiter, etClosedPolygon);</span><br><span class="line">				 co.Execute(solution, ScaleNumber*MIN_DIS); CleanPolygons(solution);</span><br><span class="line">				 difference.AddPaths(solution, ptClip, TRUE);</span><br><span class="line">				 <span class="comment">/*DrawPaths(solution);*/</span></span><br><span class="line">			 &#125;</span><br><span class="line">		 &#125;</span><br><span class="line">		 intersection.AddPath(contours[i], ptSubject, TRUE);</span><br><span class="line">		 intersection.Execute(ctIntersection, tmpsolution, pftNonZero, pftNonZero);</span><br><span class="line">		 difference.AddPaths(tmpsolution, ptSubject, TRUE);</span><br><span class="line">		 difference.Execute(ctDifference, solution, pftNonZero, pftNonZero);</span><br><span class="line">		 <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; solution.size(); j++)res.push_back(solution[j]);</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="keyword">else</span> <span class="keyword">if</span> (Orientation(contours[i]) == TRUE) &#123;</span><br><span class="line">		 res.push_back(contours[i]);</span><br><span class="line">	 &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> DrawPaths(res, numlayer);</span><br><span class="line"> Contour2Layer(res, numlayer);</span><br><span class="line"> <span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><p><img src="content/images/2017/12/contour.jpeg" alt="Fig.1. Green lines stand for original contours while red lines indicate modified contours" style="width: 400px;"></p>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Here we provide an efficient strategy to modify the model. However, this is surely not the optimal solution if we examine this strategy closely. For instance, both of two contours are ‘eaten’ by another contour in our strategy, which caused more material are used. Actually, we can draw a conclusion that there must be some way to offset both the contours less to meet the requirement. Therefore, a better solution to minimize the material addition is expected to explore in the future. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/11/16/3D-Printing-Model-Repairing/" data-id="cjayu1e9u000235s6u5otc6d0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/16/hello-world/" class="article-date">
  <time datetime="2017-11-16T12:07:59.000Z" itemprop="datePublished">2017-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/16/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sunyasheng.github.io/2017/11/16/hello-world/" data-id="cjayu1e9z000535s6joaum9ga" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/08/An-Elegant-Way-to-Cover-Line-Segments-with-Grids/">An Elegant Way to Cover Line Segments with Grids</a>
          </li>
        
          <li>
            <a href="/2017/12/06/3-Dimensional-Reconstruction-from-2-Dimensional-Slicing/">3-Dimensional Reconstruction from 2-Dimensional Slicing</a>
          </li>
        
          <li>
            <a href="/2017/12/05/Particle-Swarm-Optimization/">Particle Swarm Optimization</a>
          </li>
        
          <li>
            <a href="/2017/12/02/Experience-in-Tian-Chi-Big-Data-Competetion/">Experience in Tian Chi Big Data Competetion</a>
          </li>
        
          <li>
            <a href="/2017/12/01/PI超级计算使用常用shell命令/">Cheatsheet for Frequently Used Shell Commands</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Yasheng Sun<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>